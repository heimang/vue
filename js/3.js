webpackJsonp([3],{329:function(e,t,s){"use strict";function r(e){n||s(376)}Object.defineProperty(t,"__esModule",{value:!0});var a=s(347),o=s(378),i=s(336),n=!1,l=r,d=Object(i.a)(a.a,o.a,o.b,!1,l,"data-v-2c4591a4",null);d.options.__file="src\\components\\order\\orderinfo.vue",t.default=d.exports},336:function(e,t,s){"use strict";function r(e,t,s,r,a,o,i,n){e=e||{};var l=typeof e.default;"object"!==l&&"function"!==l||(e=e.default);var d="function"==typeof e?e.options:e;t&&(d.render=t,d.staticRenderFns=s,d._compiled=!0),r&&(d.functional=!0),o&&(d._scopeId=o);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):a&&(c=n?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(e,t){return c.call(t),u(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:d}}t.a=r},337:function(e,t,s){"use strict";function r(e,t,s,r){f=s,g=r||{};var o=Object(d.a)(e,t);return a(o),function(t){for(var s=[],r=0;r<o.length;r++){var i=o[r],n=u[i.id];n.refs--,s.push(n)}t?(o=Object(d.a)(e,t),a(o)):o=[];for(var r=0;r<s.length;r++){var n=s[r];if(0===n.refs){for(var l=0;l<n.parts.length;l++)n.parts[l]();delete u[n.id]}}}}function a(e){for(var t=0;t<e.length;t++){var s=e[t],r=u[s.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](s.parts[a]);for(;a<s.parts.length;a++)r.parts.push(i(s.parts[a]));r.parts.length>s.parts.length&&(r.parts.length=s.parts.length)}else{for(var o=[],a=0;a<s.parts.length;a++)o.push(i(s.parts[a]));u[s.id]={id:s.id,refs:1,parts:o}}}}function o(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function i(e){var t,s,r=document.querySelector("style["+h+'~="'+e.id+'"]');if(r){if(f)return _;r.parentNode.removeChild(r)}if(b){var a=m++;r=v||(v=o()),t=n.bind(null,r,a,!1),s=n.bind(null,r,a,!0)}else r=o(),t=l.bind(null,r),s=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else s()}}function n(e,t,s,r){var a=s?"":r.css;if(e.styleSheet)e.styleSheet.cssText=C(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function l(e,t){var s=t.css,r=t.media,a=t.sourceMap;if(r&&e.setAttribute("media",r),g.ssrId&&e.setAttribute(h,t.id),a&&(s+="\n/*# sourceURL="+a.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var d=s(338),c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u={},p=c&&(document.head||document.getElementsByTagName("head")[0]),v=null,m=0,f=!1,_=function(){},g=null,h="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),C=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},338:function(e,t,s){"use strict";function r(e,t){for(var s=[],r={},a=0;a<t.length;a++){var o=t[a],i=o[0],n=o[1],l=o[2],d=o[3],c={id:e+":"+a,css:n,media:l,sourceMap:d};r[i]?r[i].parts.push(c):s.push(r[i]={id:i,parts:[c]})}return s}t.a=r},347:function(e,t,s){"use strict";var r=s(192),a=s(193),o=s.n(a);t.a={data:function(){return{goodsinfo:[],totalcount:0,goodsAmount:0,expressMoment:20,cargoodsobj:{97:1,102:1},goodsids:"",order:{express_id:"1",payment_id:"6",accept_name:"andy",area:{province:{code:"140000",value:"山西省"},city:{code:"140100",value:"太原市"},area:{code:"140106",value:"迎泽区"}},address:"城区",mobile:"15826564212",email:"ad@qq.com",post_code:"516000",message:"666"},rules:{accept_name:[{required:!0,message:"请输入姓名",trigger:"blur"}],area:[{required:!0,message:"请输详细地址",trigger:"blur"}],address:[{required:!0,message:"请输详细地址",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,s){/^(13[\d]|14[57]|15[0356789]|17[067]|18[0-35-9])\d{8}$/.test(t)?s():s(new Error("手机号码输入错误"))},trigger:"blur"}],email:[{required:!1,message:"请输入邮箱",trigger:"blur"},{type:"email",trigger:"blur"}],post_code:[{required:!1,message:"请输入邮政编码",trigger:"blur"},{validator:function(e,t,s){/\D+/.test(t)?s(new Error("邮政编码要都是数字哦")):s()},trigger:"blur"}]}}},created:function(){this.getgoodsinfo(),this.getorderinfo(),this.selectekuaidi(this.order.express_id)},beforeDestroy:function(){this.localorderinfo()},components:{VDistpicker:o.a},methods:{getgoodsinfo:function(){var e=this,t="site/validate/order/getgoodslist/"+this.$route.params.goodsids;this.goodsids=this.$route.params.goodsids;var s=Object(r.d)(),a=0,o=0,i={};this.$axios.get(t).then(function(t){t.data.message.forEach(function(e){s[e.id]&&(i[e.id]=e.buycount=parseInt(s[e.id]),e.totalamount=e.sell_price*e.buycount,a+=e.buycount,o+=e.totalamount)}),e.goodsinfo=t.data.message;var r=[a,o,i];e.totalcount=r[0],e.goodsAmount=r[1],e.cargoodsobj=r[2]})},getorderinfo:function(){var e=localStorage.getItem("order");e&&(this.order=JSON.parse(e))},localorderinfo:function(){localStorage.setItem("order",JSON.stringify(this.order))},selectekuaidi:function(e){switch(e){case"1":this.expressMoment=20;break;case"2":this.expressMoment=15;break;case"3":this.expressMoment=10}},onSelected:function(e){this.order.area=e},backtocat:function(){this.$router.push({path:"/site/buycat"})},makeorder:function(){var e=this,t=[this.goodsAmount,this.expressMoment,this.cargoodsobj,this.goodsids],s=t[0],r=t[1],a=t[2],o=t[3],i=Object.assign({},this.order,{goodsAmount:s,expressMoment:r,cargoodsobj:a,goodsids:o});this.$refs.orderForm.validate(function(t){if(!t)return!1;e.$axios.post("site/validate/order/setorder",i).then(function(t){0==t.data.status?(e.$router.push({path:"/site/payorder/"+t.data.message.orderid}),e.$store.commit("deletegoods",e.goodsids.split(","))):e.$message.error(t.data.message)})})}}}},376:function(e,t,s){var r=s(377);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s(337).default;a("c159f412",r,!1,{})},377:function(e,t,s){t=e.exports=s(322)(!1),t.push([e.i,"\n.buy-foot .right-box p.btn-box .btn[data-v-2c4591a4] {\r\n  padding: 8px 22px;\r\n  line-height: 24px;\n}\r\n",""])},378:function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"section"},[s("div",{staticClass:"location"},[s("el-breadcrumb",{staticStyle:{"line-height":"40px"},attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),s("el-breadcrumb-item",[e._v("订单页")])],1)],1)]),e._v(" "),s("div",{staticClass:"section"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"bg-wrap"},[e._m(0),e._v(" "),s("div",{staticClass:"cart-box"},[s("el-form",{ref:"orderForm",staticClass:"demo-ruleForm",attrs:{model:e.order,rules:e.rules,"label-width":"100px","status-icon":""}},[s("h2",{staticClass:"slide-tit"},[s("span",[e._v("1、收货地址")])]),e._v(" "),s("div",{attrs:{id:"orderForm",name:"orderForm",url:""}},[s("div",{staticClass:"form-box address-info",staticStyle:{padding:"20px 0 0 0"}},[s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"收件人：",prop:"accept_name"}},[s("el-input",{model:{value:e.order.accept_name,callback:function(t){e.$set(e.order,"accept_name",t)},expression:"order.accept_name"}})],1)],1),e._v(" "),s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"所属地区：",prop:"area"}},[s("v-distpicker",{attrs:{province:e.order.area.province.value,city:e.order.area.city.value,area:e.order.area.area.value},on:{selected:e.onSelected}})],1)],1),e._v(" "),s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"详细地址：",prop:"address"}},[s("el-input",{model:{value:e.order.address,callback:function(t){e.$set(e.order,"address",t)},expression:"order.address"}})],1)],1),e._v(" "),s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"手机号码：",prop:"mobile"}},[s("el-input",{model:{value:e.order.mobile,callback:function(t){e.$set(e.order,"mobile",t)},expression:"order.mobile"}})],1)],1),e._v(" "),s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"电子邮箱：",prop:"email"}},[s("el-input",{model:{value:e.order.email,callback:function(t){e.$set(e.order,"email",t)},expression:"order.email"}})],1)],1),e._v(" "),s("dl",{staticClass:"form-group"},[s("el-form-item",{staticStyle:{width:"60%",margin:"20px auto"},attrs:{label:"邮政编码：",prop:"post_code"}},[s("el-input",{model:{value:e.order.post_code,callback:function(t){e.$set(e.order,"post_code",t)},expression:"order.post_code"}})],1)],1)]),e._v(" "),s("h2",{staticClass:"slide-tit"},[s("span",[e._v("2、支付方式")])]),e._v(" "),s("ul",{staticClass:"item-box clearfix"},[s("li",[s("el-radio",{attrs:{label:"6"},model:{value:e.order.payment_id,callback:function(t){e.$set(e.order,"payment_id",t)},expression:"order.payment_id"}},[e._v("在线支付")]),e._v(" "),s("em",[e._v("手续费：0.00元")])],1)]),e._v(" "),s("h2",{staticClass:"slide-tit"},[s("span",[e._v("3、配送方式")])]),e._v(" "),s("ul",{staticClass:"item-box clearfix"},[s("li",[s("el-radio-group",{on:{change:e.selectekuaidi},model:{value:e.order.express_id,callback:function(t){e.$set(e.order,"express_id",t)},expression:"order.express_id"}},[s("el-radio",{attrs:{label:"1"}},[e._v("顺丰快递\n                                            "),s("em",[e._v("费用：20.00元")])]),e._v(" "),s("el-radio",{attrs:{label:"2"}},[e._v("韵达快递\n                                            "),s("em",[e._v("费用：15.00元")])]),e._v(" "),s("el-radio",{attrs:{label:"3"}},[e._v("圆通快递\n                                            "),s("em",[e._v("费用：10.00元")])])],1)],1)]),e._v(" "),s("h2",{staticClass:"slide-tit"},[s("span",[e._v("4、商品清单")])]),e._v(" "),s("div",{staticClass:"line15"}),e._v(" "),s("table",{staticClass:"cart-table",attrs:{width:"100%",border:"0",align:"center",cellpadding:"8",cellspacing:"0"}},[s("tbody",[s("tr",[s("th",{attrs:{colspan:"2",align:"left"}},[e._v("商品信息")]),e._v(" "),s("th",{attrs:{width:"84",align:"left"}},[e._v("单价")]),e._v(" "),s("th",{attrs:{width:"84",align:"center"}},[e._v("购买数量")]),e._v(" "),s("th",{attrs:{width:"104",align:"left"}},[e._v("金额(元)")])]),e._v(" "),e._l(e.goodsinfo,function(t){return s("tr",{key:t.id},[s("td",{attrs:{width:"68"}},[s("router-link",{attrs:{target:"_blank",to:"/site/goodsinfo/"+t.id}},[s("img",{staticClass:"img",attrs:{src:t.img_url}})])],1),e._v(" "),s("td",[s("router-link",{attrs:{target:"_blank",to:"/site/goodsinfo/"+t.id}},[e._v(e._s(t.title))])],1),e._v(" "),s("td",[s("span",{staticClass:"red"},[e._v("\n                                                ￥"+e._s(t.sell_price)+"\n                                            ")])]),e._v(" "),s("td",{attrs:{align:"center"}},[e._v(e._s(t.buycount))]),e._v(" "),s("td",[s("span",{staticClass:"red"},[e._v("\n                                                ￥"+e._s(t.totalamount)+"\n                                            ")])])])})],2)]),e._v(" "),s("div",{staticClass:"line15"}),e._v(" "),s("h2",{staticClass:"slide-tit"},[s("span",[e._v("5、结算信息")])]),e._v(" "),s("div",{staticClass:"buy-foot clearfix"},[s("div",{staticClass:"left-box"},[s("dl",[s("dt",[e._v("订单备注(100字符以内)")]),e._v(" "),s("dd",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.order.message,expression:"order.message"}],staticClass:"input",staticStyle:{height:"35px"},attrs:{name:"message"},domProps:{value:e.order.message},on:{input:function(t){t.target.composing||e.$set(e.order,"message",t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"right-box"},[s("p",[e._v("\n                                        商品\n                                        "),s("label",{staticClass:"price"},[e._v(e._s(e.totalcount))]),e._v(" 件     商品金额：￥\n                                        "),s("label",{staticClass:"price",attrs:{id:"goodsAmount"}},[e._v(e._s(e.goodsAmount))]),e._v(" 元    \n                                    ")]),e._v(" "),s("p",[e._v("\n                                        运费：￥\n                                        "),s("label",{staticClass:"price",attrs:{id:"expressFee"}},[e._v(e._s(e.expressMoment))]),e._v(" 元\n                                    ")]),e._v(" "),s("p",{staticClass:"txt-box"},[e._v("\n                                        应付总金额：￥\n                                        "),s("label",{staticClass:"price",attrs:{id:"totalAmount"}},[e._v(e._s(e.goodsAmount+e.expressMoment))])]),e._v(" "),s("p",{staticClass:"btn-box"},[s("el-button",{attrs:{type:"primary"},on:{click:e.backtocat}},[e._v("返回购物车")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.makeorder}},[e._v("确认提交")])],1)])])])])],1)])])])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cart-head clearfix"},[s("h2",[s("i",{staticClass:"iconfont icon-cart"}),e._v("我的购物车")]),e._v(" "),s("div",{staticClass:"cart-setp"},[s("ul",[s("li",{staticClass:"first active"},[s("div",{staticClass:"progress"},[s("span",[e._v("1")]),e._v("\n                                    放进购物车\n                                ")])]),e._v(" "),s("li",{staticClass:"active"},[s("div",{staticClass:"progress"},[s("span",[e._v("2")]),e._v("\n                                    填写订单信息\n                                ")])]),e._v(" "),s("li",{staticClass:"last"},[s("div",{staticClass:"progress"},[s("span",[e._v("3")]),e._v("\n                                    支付/确认订单\n                                ")])])])])])}];r._withStripped=!0}});